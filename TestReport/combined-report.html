<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:8,&quot;tests&quot;:32,&quot;passes&quot;:1,&quot;pending&quot;:0,&quot;failures&quot;:7,&quot;start&quot;:&quot;2021-04-26T22:13:43.615Z&quot;,&quot;end&quot;:&quot;2021-04-26T22:14:12.876Z&quot;,&quot;duration&quot;:4375,&quot;testsRegistered&quot;:32,&quot;passPercent&quot;:3.125,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:24,&quot;hasSkipped&quot;:true},&quot;results&quot;:[{&quot;uuid&quot;:&quot;fcf8d17b-bcc8-4552-98ec-89d4de24195e&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;cypress/integration/external/login.spec.js&quot;,&quot;file&quot;:&quot;cypress/integration/external/login.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;fcdfdb6d-7d19-45fe-8496-d4228efa008b&quot;,&quot;title&quot;:&quot;User Login and Log out&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;User login and logout&quot;,&quot;fullTitle&quot;:&quot;User Login and Log out User login and logout&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:802,&quot;state&quot;:&quot;failed&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;//  cy.visit to visit the URL\ncy.visit(Cypress.env(&#x27;USER_URI&#x27;)); // tap the sign in button on the welcome page\ncy.get(&#x27;a[href*=\&quot;/signin\&quot;]&#x27;).click(); //  Enter the user name and Password\ncy.fixture(&#x27;users.json&#x27;).then(function (users) {\n  cy.get(&#x27;input#email&#x27;).type(users.external);\n});\ncy.get(&#x27;input#password&#x27;).type(Cypress.env(&#x27;DEFAULT_PASSWORD&#x27;)); //  Click Sign in Button\ncy.get(&#x27;.govuk-button.govuk-button--start&#x27;).click(); //  assert once the user is signed in\ncy.contains(&#x27;Add licences or give access&#x27;); //  Click Sign out Button\ncy.get(&#x27;#signout&#x27;).click(); //  assert the signout\ncy.contains(&#x27;You are signed out&#x27;).should(&#x27;be.visible&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;CypressError: `cy.request()` failed trying to load:\n\nhttp://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\nWe attempted to make an http request to this URL but the request failed without a response.\n\nWe received this error at the network level:\n\n  &gt; Error: connect ECONNREFUSED 127.0.0.1:8001\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\n-----------------------------------------------------------\n\nCommon situations why this would fail:\n  - you don&#x27;t have internet access\n  - you forgot to run / boot your web server\n  - your web server isn&#x27;t accessible\n  - you have weird network configuration settings on your computer\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `after all` hook we are skipping the remaining tests in the current suite: `User Login and Log out`&quot;,&quot;estack&quot;:&quot;CypressError: `cy.request()` failed trying to load:\n\nhttp://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\nWe attempted to make an http request to this URL but the request failed without a response.\n\nWe received this error at the network level:\n\n  &gt; Error: connect ECONNREFUSED 127.0.0.1:8001\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\n-----------------------------------------------------------\n\nCommon situations why this would fail:\n  - you don&#x27;t have internet access\n  - you forgot to run / boot your web server\n  - your web server isn&#x27;t accessible\n  - you have weird network configuration settings on your computer\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `after all` hook we are skipping the remaining tests in the current suite: `User Login and Log out`\n    at http://localhost:8008/__cypress/runner/cypress_runner.js:160339:19\n    at tryCatcher (http://localhost:8008/__cypress/runner/cypress_runner.js:10765:23)\n    at http://localhost:8008/__cypress/runner/cypress_runner.js:5904:37\n    at tryCatcher (http://localhost:8008/__cypress/runner/cypress_runner.js:10765:23)\n    at Promise._settlePromiseFromHandler (http://localhost:8008/__cypress/runner/cypress_runner.js:8700:31)\n    at Promise._settlePromise (http://localhost:8008/__cypress/runner/cypress_runner.js:8757:18)\n    at Promise._settlePromise0 (http://localhost:8008/__cypress/runner/cypress_runner.js:8802:10)\n    at Promise._settlePromises (http://localhost:8008/__cypress/runner/cypress_runner.js:8878:18)\n    at _drainQueueStep (http://localhost:8008/__cypress/runner/cypress_runner.js:5472:12)\n    at _drainQueue (http://localhost:8008/__cypress/runner/cypress_runner.js:5465:9)\n    at Async.../../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:8008/__cypress/runner/cypress_runner.js:5481:5)\n    at Async.drainQueues (http://localhost:8008/__cypress/runner/cypress_runner.js:5351:14)\nFrom Your Spec Code:\n    at waterRequest (http://localhost:8008/__cypress/tests?p=cypress/integration/external/login.spec.js:158:6)\n    at tearDown (http://localhost:8008/__cypress/tests?p=cypress/integration/external/login.spec.js:183:10)\n    at Context.eval (http://localhost:8008/__cypress/tests?p=cypress/integration/external/login.spec.js:109:5)\n\nFrom Node.js Internals:\n  RequestError: Error: connect ECONNREFUSED 127.0.0.1:8001\n      at new RequestError (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/request-promise-core/lib/errors.js:14:15)\n      at Request.plumbing.callback (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/request-promise-core/lib/plumbing.js:87:29)\n      at Request.RP$callback [as _callback] (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/request-promise-core/lib/plumbing.js:46:31)\n      at self.callback (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/@cypress/request/request.js:185:22)\n      at Request.emit (events.js:315:20)\n      at Request.onRequestError (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/@cypress/request/request.js:877:8)\n      at ClientRequest.emit (events.js:327:22)\n      at Socket.socketErrorListener (_http_client.js:426:9)\n      at Socket.emit (events.js:315:20)\n      at emitErrorNT (internal/streams/destroy.js:92:8)\n      at emitErrorAndCloseNT (internal/streams/destroy.js:60:3)\n      at processTicksAndRejections (internal/process/task_queues.js:84:21)\n  &quot;,&quot;diff&quot;:null},&quot;uuid&quot;:&quot;85157623-ae61-45c6-95c8-c54bb6e46e69&quot;,&quot;parentUUID&quot;:&quot;fcdfdb6d-7d19-45fe-8496-d4228efa008b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;85157623-ae61-45c6-95c8-c54bb6e46e69&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:802,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3a1612aa-7032-406f-b15f-f1487b796e70&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;cypress/integration/external/notify-callback.spec.js&quot;,&quot;file&quot;:&quot;cypress/integration/external/notify-callback.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ce6aafe8-feae-4468-9068-6b44b8ff3fd2&quot;,&quot;title&quot;:&quot;notify callback attempt&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;checks if the notification was found&quot;,&quot;fullTitle&quot;:&quot;notify callback attempt checks if the notification was found&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:890,&quot;state&quot;:&quot;failed&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;expect(scheduledNotificationNotifyId.length).to.equal(36); // Check that the Notify ID that was retrieved is a valid GUID, which typically have 36 characters&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;CypressError: `cy.request()` failed trying to load:\n\nhttp://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\nWe attempted to make an http request to this URL but the request failed without a response.\n\nWe received this error at the network level:\n\n  &gt; Error: connect ECONNREFUSED 127.0.0.1:8001\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\n-----------------------------------------------------------\n\nCommon situations why this would fail:\n  - you don&#x27;t have internet access\n  - you forgot to run / boot your web server\n  - your web server isn&#x27;t accessible\n  - you have weird network configuration settings on your computer\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `before all` hook we are skipping the remaining tests in the current suite: `notify callback attempt`&quot;,&quot;estack&quot;:&quot;CypressError: `cy.request()` failed trying to load:\n\nhttp://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\nWe attempted to make an http request to this URL but the request failed without a response.\n\nWe received this error at the network level:\n\n  &gt; Error: connect ECONNREFUSED 127.0.0.1:8001\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\n-----------------------------------------------------------\n\nCommon situations why this would fail:\n  - you don&#x27;t have internet access\n  - you forgot to run / boot your web server\n  - your web server isn&#x27;t accessible\n  - you have weird network configuration settings on your computer\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `before all` hook we are skipping the remaining tests in the current suite: `notify callback attempt`\n    at http://localhost:8008/__cypress/runner/cypress_runner.js:160339:19\n    at tryCatcher (http://localhost:8008/__cypress/runner/cypress_runner.js:10765:23)\n    at http://localhost:8008/__cypress/runner/cypress_runner.js:5904:37\n    at tryCatcher (http://localhost:8008/__cypress/runner/cypress_runner.js:10765:23)\n    at Promise._settlePromiseFromHandler (http://localhost:8008/__cypress/runner/cypress_runner.js:8700:31)\n    at Promise._settlePromise (http://localhost:8008/__cypress/runner/cypress_runner.js:8757:18)\n    at Promise._settlePromise0 (http://localhost:8008/__cypress/runner/cypress_runner.js:8802:10)\n    at Promise._settlePromises (http://localhost:8008/__cypress/runner/cypress_runner.js:8878:18)\n    at _drainQueueStep (http://localhost:8008/__cypress/runner/cypress_runner.js:5472:12)\n    at _drainQueue (http://localhost:8008/__cypress/runner/cypress_runner.js:5465:9)\n    at Async.../../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:8008/__cypress/runner/cypress_runner.js:5481:5)\n    at Async.drainQueues (http://localhost:8008/__cypress/runner/cypress_runner.js:5351:14)\nFrom Your Spec Code:\n    at waterRequest (http://localhost:8008/__cypress/tests?p=cypress/integration/external/notify-callback.spec.js:162:6)\n    at tearDown (http://localhost:8008/__cypress/tests?p=cypress/integration/external/notify-callback.spec.js:187:10)\n    at Context.eval (http://localhost:8008/__cypress/tests?p=cypress/integration/external/notify-callback.spec.js:108:5)\n\nFrom Node.js Internals:\n  RequestError: Error: connect ECONNREFUSED 127.0.0.1:8001\n      at new RequestError (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/request-promise-core/lib/errors.js:14:15)\n      at Request.plumbing.callback (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/request-promise-core/lib/plumbing.js:87:29)\n      at Request.RP$callback [as _callback] (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/request-promise-core/lib/plumbing.js:46:31)\n      at self.callback (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/@cypress/request/request.js:185:22)\n      at Request.emit (events.js:315:20)\n      at Request.onRequestError (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/@cypress/request/request.js:877:8)\n      at ClientRequest.emit (events.js:327:22)\n      at Socket.socketErrorListener (_http_client.js:426:9)\n      at Socket.emit (events.js:315:20)\n      at emitErrorNT (internal/streams/destroy.js:92:8)\n      at emitErrorAndCloseNT (internal/streams/destroy.js:60:3)\n      at processTicksAndRejections (internal/process/task_queues.js:84:21)\n  &quot;,&quot;diff&quot;:null},&quot;uuid&quot;:&quot;924047f7-1189-4c83-98f0-f2a3a136a4e4&quot;,&quot;parentUUID&quot;:&quot;ce6aafe8-feae-4468-9068-6b44b8ff3fd2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;calls the notify callback endpoint&quot;,&quot;fullTitle&quot;:&quot;notify callback attempt calls the notify callback endpoint&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.simulateNotifyCallback(scheduledNotificationNotifyId); // Pretending to be the Notify Service, submit a callback to the backend, which updateds the status of the Notification to &#x27;delivered&#x27;\ncy.fixture(&#x27;users.json&#x27;).then(function (users) {\n  // Load the fixtures again (Probably not necessary if we were storing the email in a local variable!)\n  cy.getLastNotifications(Cypress.env(&#x27;USER_URI&#x27;), users.notifyCallbackTestEmail).then(function (scheduledNotificationAfterCallback) {\n    // Once again, grab the last notification from the service that was sent to that email address\n    expect(scheduledNotificationAfterCallback.notify_status).to.equal(&#x27;delivered&#x27;); // Check that it now has a status of &#x27;Delivered&#x27;\n  });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b8ffb7f-116f-4bc4-a27b-e8cccaa01505&quot;,&quot;parentUUID&quot;:&quot;ce6aafe8-feae-4468-9068-6b44b8ff3fd2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;924047f7-1189-4c83-98f0-f2a3a136a4e4&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;7b8ffb7f-116f-4bc4-a27b-e8cccaa01505&quot;],&quot;duration&quot;:890,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;0a4d3716-988b-4eca-9846-60ee2b28dc50&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;cypress/integration/external/pageTitle.spec.js&quot;,&quot;file&quot;:&quot;cypress/integration/external/pageTitle.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;51e5220e-efa1-4ebd-8e88-f7e8beb1ebdd&quot;,&quot;title&quot;:&quot;Page title verification&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;the login page loads&quot;,&quot;fullTitle&quot;:&quot;Page title verification the login page loads&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:242,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.visit(Cypress.env(&#x27;USER_URI&#x27;)); //  finding the site title\ncy.contains(&#x27;Manage your water abstraction or impoundment licence&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0541af08-a3cd-4b07-ada5-e6c83c95c0c1&quot;,&quot;parentUUID&quot;:&quot;51e5220e-efa1-4ebd-8e88-f7e8beb1ebdd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0541af08-a3cd-4b07-ada5-e6c83c95c0c1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:242,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;bee58b5b-1c20-4e1d-98ac-53a71e8be7b5&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;cypress/integration/external/reset-password.spec.js&quot;,&quot;file&quot;:&quot;cypress/integration/external/reset-password.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;013b8880-a56b-432b-8d42-befa1e16ea03&quot;,&quot;title&quot;:&quot;Reset password&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Navigate to the signin page&quot;,&quot;fullTitle&quot;:&quot;Reset password Navigate to the signin page&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.visit(Cypress.env(&#x27;USER_URI&#x27;));\ncy.get(&#x27;a[href*=\&quot;/signin\&quot;]&#x27;).click();&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;CypressError: `cy.request()` failed trying to load:\n\nhttp://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\nWe attempted to make an http request to this URL but the request failed without a response.\n\nWe received this error at the network level:\n\n  &gt; Error: connect ECONNREFUSED 127.0.0.1:8001\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\n-----------------------------------------------------------\n\nCommon situations why this would fail:\n  - you don&#x27;t have internet access\n  - you forgot to run / boot your web server\n  - your web server isn&#x27;t accessible\n  - you have weird network configuration settings on your computer\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `after all` hook we are skipping the remaining tests in the current suite: `Reset password`&quot;,&quot;estack&quot;:&quot;CypressError: `cy.request()` failed trying to load:\n\nhttp://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\nWe attempted to make an http request to this URL but the request failed without a response.\n\nWe received this error at the network level:\n\n  &gt; Error: connect ECONNREFUSED 127.0.0.1:8001\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\n-----------------------------------------------------------\n\nCommon situations why this would fail:\n  - you don&#x27;t have internet access\n  - you forgot to run / boot your web server\n  - your web server isn&#x27;t accessible\n  - you have weird network configuration settings on your computer\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `after all` hook we are skipping the remaining tests in the current suite: `Reset password`\n    at http://localhost:8008/__cypress/runner/cypress_runner.js:160339:19\n    at tryCatcher (http://localhost:8008/__cypress/runner/cypress_runner.js:10765:23)\n    at http://localhost:8008/__cypress/runner/cypress_runner.js:5904:37\n    at tryCatcher (http://localhost:8008/__cypress/runner/cypress_runner.js:10765:23)\n    at Promise._settlePromiseFromHandler (http://localhost:8008/__cypress/runner/cypress_runner.js:8700:31)\n    at Promise._settlePromise (http://localhost:8008/__cypress/runner/cypress_runner.js:8757:18)\n    at Promise._settlePromise0 (http://localhost:8008/__cypress/runner/cypress_runner.js:8802:10)\n    at Promise._settlePromises (http://localhost:8008/__cypress/runner/cypress_runner.js:8878:18)\n    at _drainQueueStep (http://localhost:8008/__cypress/runner/cypress_runner.js:5472:12)\n    at _drainQueue (http://localhost:8008/__cypress/runner/cypress_runner.js:5465:9)\n    at Async.../../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:8008/__cypress/runner/cypress_runner.js:5481:5)\n    at Async.drainQueues (http://localhost:8008/__cypress/runner/cypress_runner.js:5351:14)\nFrom Your Spec Code:\n    at waterRequest (http://localhost:8008/__cypress/tests?p=cypress/integration/external/reset-password.spec.js:191:6)\n    at tearDown (http://localhost:8008/__cypress/tests?p=cypress/integration/external/reset-password.spec.js:216:10)\n    at Context.eval (http://localhost:8008/__cypress/tests?p=cypress/integration/external/reset-password.spec.js:109:5)\n\nFrom Node.js Internals:\n  RequestError: Error: connect ECONNREFUSED 127.0.0.1:8001\n      at new RequestError (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/request-promise-core/lib/errors.js:14:15)\n      at Request.plumbing.callback (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/request-promise-core/lib/plumbing.js:87:29)\n      at Request.RP$callback [as _callback] (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/request-promise-core/lib/plumbing.js:46:31)\n      at self.callback (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/@cypress/request/request.js:185:22)\n      at Request.emit (events.js:315:20)\n      at Request.onRequestError (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/@cypress/request/request.js:877:8)\n      at ClientRequest.emit (events.js:327:22)\n      at Socket.socketErrorListener (_http_client.js:426:9)\n      at Socket.emit (events.js:315:20)\n      at emitErrorNT (internal/streams/destroy.js:92:8)\n      at emitErrorAndCloseNT (internal/streams/destroy.js:60:3)\n      at processTicksAndRejections (internal/process/task_queues.js:84:21)\n  &quot;,&quot;diff&quot;:null},&quot;uuid&quot;:&quot;f4105ded-95a1-48f4-a6d5-3d4634cc54e4&quot;,&quot;parentUUID&quot;:&quot;013b8880-a56b-432b-8d42-befa1e16ea03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Navigate to the reset your password page&quot;,&quot;fullTitle&quot;:&quot;Reset password Navigate to the reset your password page&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.get(&#x27;a[href*=\&quot;/reset_password&#x27;).click();\ncy.contains(&#x27;Reset your password&#x27;).should(&#x27;have.class&#x27;, &#x27;govuk-heading-l&#x27;);\ncy.contains(&#x27;Email address&#x27;).should(&#x27;have.class&#x27;, &#x27;govuk-label&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4489c682-56f9-4909-b33f-4e29cc74c8a7&quot;,&quot;parentUUID&quot;:&quot;013b8880-a56b-432b-8d42-befa1e16ea03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;shows a validation message if the email field is empty&quot;,&quot;fullTitle&quot;:&quot;Reset password shows a validation message if the email field is empty&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.get(&#x27;button.govuk-button.govuk-button--start&#x27;).click();\ncy.contains(&#x27;Enter an email address&#x27;).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;#email&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cfb45d73-6a9b-4919-b0b9-cf11d02419d3&quot;,&quot;parentUUID&quot;:&quot;013b8880-a56b-432b-8d42-befa1e16ea03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;shows a validation message if the email field is invalid&quot;,&quot;fullTitle&quot;:&quot;Reset password shows a validation message if the email field is invalid&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.get(&#x27;input#email&#x27;).type(&#x27;invalid....email&#x27;);\ncy.get(&#x27;button.govuk-button.govuk-button--start&#x27;).click();\ncy.contains(&#x27;Enter an email address in the correct format&#x27;).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;#email&#x27;);\ncy.get(&#x27;input#email&#x27;).clear();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;456b6641-9831-4f83-b1e3-ba95658b0da9&quot;,&quot;parentUUID&quot;:&quot;013b8880-a56b-432b-8d42-befa1e16ea03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;navigates to success page if the email address is valid&quot;,&quot;fullTitle&quot;:&quot;Reset password navigates to success page if the email address is valid&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.fixture(&#x27;users.json&#x27;).then(function (users) {\n  cy.get(&#x27;input#email&#x27;).type(users.external);\n});\ncy.get(&#x27;button.govuk-button.govuk-button--start&#x27;).click();\ncy.contains(&#x27;Check your email&#x27;).should(&#x27;have.class&#x27;, &#x27;govuk-heading-l&#x27;);\ncy.contains(&#x27;Has the email not arrived?&#x27;).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/reset_password_resend_email&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7483c0ae-e21b-41bf-b38e-e180bf3fd9d6&quot;,&quot;parentUUID&quot;:&quot;013b8880-a56b-432b-8d42-befa1e16ea03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;clicks the link in the confirmation email&quot;,&quot;fullTitle&quot;:&quot;Reset password clicks the link in the confirmation email&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.fixture(&#x27;users.json&#x27;).then(function (users) {\n  cy.getPasswordResetUrl(Cypress.env(&#x27;USER_URI&#x27;), users.external).then(function (response) {\n    cy.visit(response);\n  });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d4d7900-7aba-4a50-bbef-56d074d985ad&quot;,&quot;parentUUID&quot;:&quot;013b8880-a56b-432b-8d42-befa1e16ea03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;check the title and shows the change password fields&quot;,&quot;fullTitle&quot;:&quot;Reset password check the title and shows the change password fields&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.contains(&#x27;Change your password&#x27;).should(&#x27;be.visible&#x27;);\ncy.contains(&#x27;Enter a new password&#x27;).should(&#x27;be.visible&#x27;);\ncy.contains(&#x27;Confirm your password&#x27;).should(&#x27;be.visible&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca01caa1-a43a-453b-abd4-47a3cd3d9ca8&quot;,&quot;parentUUID&quot;:&quot;013b8880-a56b-432b-8d42-befa1e16ea03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;changes the password and signs in&quot;,&quot;fullTitle&quot;:&quot;Reset password changes the password and signs in&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.get(&#x27;[id=password]&#x27;).type(&#x27;P@55word&#x27;);\ncy.get(&#x27;[id=confirm-password]&#x27;).type(&#x27;P@55word&#x27;);\ncy.get(&#x27;button.govuk-button&#x27;).click();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cdf66ca5-f722-413e-a456-8553852fe3a9&quot;,&quot;parentUUID&quot;:&quot;013b8880-a56b-432b-8d42-befa1e16ea03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;is redirected to the your licences page&quot;,&quot;fullTitle&quot;:&quot;Reset password is redirected to the your licences page&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.contains(&#x27;View licences&#x27;).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/licences&#x27;);\ncy.contains(&#x27;Manage returns&#x27;).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/returns&#x27;);\ncy.contains(&#x27;Add licences or give access&#x27;).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;/manage_licences&#x27;);\ncy.contains(&#x27;Your licences&#x27;).should(&#x27;have.class&#x27;, &#x27;govuk-heading-l&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c318b1b-5027-43fa-91aa-f19d8fc14f84&quot;,&quot;parentUUID&quot;:&quot;013b8880-a56b-432b-8d42-befa1e16ea03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;f4105ded-95a1-48f4-a6d5-3d4634cc54e4&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;4489c682-56f9-4909-b33f-4e29cc74c8a7&quot;,&quot;cfb45d73-6a9b-4919-b0b9-cf11d02419d3&quot;,&quot;456b6641-9831-4f83-b1e3-ba95658b0da9&quot;,&quot;7483c0ae-e21b-41bf-b38e-e180bf3fd9d6&quot;,&quot;9d4d7900-7aba-4a50-bbef-56d074d985ad&quot;,&quot;ca01caa1-a43a-453b-abd4-47a3cd3d9ca8&quot;,&quot;cdf66ca5-f722-413e-a456-8553852fe3a9&quot;,&quot;8c318b1b-5027-43fa-91aa-f19d8fc14f84&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1920a2b0-8d77-4fc0-9486-2d9a39dd4755&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;cypress/integration/external/user-registration.spec.js&quot;,&quot;file&quot;:&quot;cypress/integration/external/user-registration.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;9889ea8b-e6d2-4077-a089-da3bec04c0ad&quot;,&quot;title&quot;:&quot;User registration&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;redirects to the welcome page&quot;,&quot;fullTitle&quot;:&quot;User registration redirects to the welcome page&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.visit(Cypress.env(&#x27;USER_URI&#x27;));\ncy.contains(&#x27;Sign in or create an account&#x27;).should(&#x27;have.class&#x27;, &#x27;govuk-heading-l&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;CypressError: `cy.request()` failed trying to load:\n\nhttp://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\nWe attempted to make an http request to this URL but the request failed without a response.\n\nWe received this error at the network level:\n\n  &gt; Error: connect ECONNREFUSED 127.0.0.1:8001\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\n-----------------------------------------------------------\n\nCommon situations why this would fail:\n  - you don&#x27;t have internet access\n  - you forgot to run / boot your web server\n  - your web server isn&#x27;t accessible\n  - you have weird network configuration settings on your computer\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `after all` hook we are skipping the remaining tests in the current suite: `User registration`&quot;,&quot;estack&quot;:&quot;CypressError: `cy.request()` failed trying to load:\n\nhttp://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\nWe attempted to make an http request to this URL but the request failed without a response.\n\nWe received this error at the network level:\n\n  &gt; Error: connect ECONNREFUSED 127.0.0.1:8001\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\n-----------------------------------------------------------\n\nCommon situations why this would fail:\n  - you don&#x27;t have internet access\n  - you forgot to run / boot your web server\n  - your web server isn&#x27;t accessible\n  - you have weird network configuration settings on your computer\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `after all` hook we are skipping the remaining tests in the current suite: `User registration`\n    at http://localhost:8008/__cypress/runner/cypress_runner.js:160339:19\n    at tryCatcher (http://localhost:8008/__cypress/runner/cypress_runner.js:10765:23)\n    at http://localhost:8008/__cypress/runner/cypress_runner.js:5904:37\n    at tryCatcher (http://localhost:8008/__cypress/runner/cypress_runner.js:10765:23)\n    at Promise._settlePromiseFromHandler (http://localhost:8008/__cypress/runner/cypress_runner.js:8700:31)\n    at Promise._settlePromise (http://localhost:8008/__cypress/runner/cypress_runner.js:8757:18)\n    at Promise._settlePromise0 (http://localhost:8008/__cypress/runner/cypress_runner.js:8802:10)\n    at Promise._settlePromises (http://localhost:8008/__cypress/runner/cypress_runner.js:8878:18)\n    at _drainQueueStep (http://localhost:8008/__cypress/runner/cypress_runner.js:5472:12)\n    at _drainQueue (http://localhost:8008/__cypress/runner/cypress_runner.js:5465:9)\n    at Async.../../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:8008/__cypress/runner/cypress_runner.js:5481:5)\n    at Async.drainQueues (http://localhost:8008/__cypress/runner/cypress_runner.js:5351:14)\nFrom Your Spec Code:\n    at waterRequest (http://localhost:8008/__cypress/tests?p=cypress/integration/external/user-registration.spec.js:230:6)\n    at tearDown (http://localhost:8008/__cypress/tests?p=cypress/integration/external/user-registration.spec.js:255:10)\n    at Context.eval (http://localhost:8008/__cypress/tests?p=cypress/integration/external/user-registration.spec.js:109:5)\n\nFrom Node.js Internals:\n  RequestError: Error: connect ECONNREFUSED 127.0.0.1:8001\n      at new RequestError (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/request-promise-core/lib/errors.js:14:15)\n      at Request.plumbing.callback (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/request-promise-core/lib/plumbing.js:87:29)\n      at Request.RP$callback [as _callback] (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/request-promise-core/lib/plumbing.js:46:31)\n      at self.callback (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/@cypress/request/request.js:185:22)\n      at Request.emit (events.js:315:20)\n      at Request.onRequestError (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/@cypress/request/request.js:877:8)\n      at ClientRequest.emit (events.js:327:22)\n      at Socket.socketErrorListener (_http_client.js:426:9)\n      at Socket.emit (events.js:315:20)\n      at emitErrorNT (internal/streams/destroy.js:92:8)\n      at emitErrorAndCloseNT (internal/streams/destroy.js:60:3)\n      at processTicksAndRejections (internal/process/task_queues.js:84:21)\n  &quot;,&quot;diff&quot;:null},&quot;uuid&quot;:&quot;a993e1b3-eb81-42c1-ac9b-207ed33a9160&quot;,&quot;parentUUID&quot;:&quot;9889ea8b-e6d2-4077-a089-da3bec04c0ad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;navigates to the start page&quot;,&quot;fullTitle&quot;:&quot;User registration navigates to the start page&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.get(&#x27;.govuk-button&#x27;).eq(2).click();\ncy.contains(&#x27;Create an account to manage your water abstraction licence online&#x27;).should(&#x27;have.class&#x27;, &#x27;govuk-heading-l&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aad91380-8e1c-4758-9bae-42a65c7d259e&quot;,&quot;parentUUID&quot;:&quot;9889ea8b-e6d2-4077-a089-da3bec04c0ad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;navigates to the create account page&quot;,&quot;fullTitle&quot;:&quot;User registration navigates to the create account page&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.contains(&#x27;Create account&#x27;).should(&#x27;be.visible&#x27;);\ncy.get(&#x27;.govuk-button--start&#x27;).click({\n  force: true\n});\ncy.contains(&#x27;Create an account&#x27;).should(&#x27;have.class&#x27;, &#x27;govuk-heading-l&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;991d1d7d-f6bb-4c8e-ac8c-31a4eb0738d8&quot;,&quot;parentUUID&quot;:&quot;9889ea8b-e6d2-4077-a089-da3bec04c0ad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;shows a validation message if the email field is empty&quot;,&quot;fullTitle&quot;:&quot;User registration shows a validation message if the email field is empty&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.get(&#x27;input#email&#x27;).type(&#x27; &#x27;);\ncy.get(&#x27;button.govuk-button&#x27;).click();\ncy.contains(&#x27;Enter an email address in the right format&#x27;).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;#email&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;22bf19e4-d89b-434e-98a4-e0f220a5c0f4&quot;,&quot;parentUUID&quot;:&quot;9889ea8b-e6d2-4077-a089-da3bec04c0ad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;shows a validation message if the email field is invalid&quot;,&quot;fullTitle&quot;:&quot;User registration shows a validation message if the email field is invalid&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.get(&#x27;input#email&#x27;).type(&#x27;not a valid email &#x27;);\ncy.get(&#x27;button.govuk-button&#x27;).click();\ncy.contains(&#x27;Enter an email address in the right format&#x27;).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;#email&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b30d2263-c748-4da9-8551-dc228dfb5d8b&quot;,&quot;parentUUID&quot;:&quot;9889ea8b-e6d2-4077-a089-da3bec04c0ad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;navigates to the success page if the email address is valid&quot;,&quot;fullTitle&quot;:&quot;User registration navigates to the success page if the email address is valid&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.get(&#x27;input#email&#x27;).clear();\ncy.fixture(&#x27;users.json&#x27;).then(function (users) {\n  cy.get(&#x27;input#email&#x27;).type(users.externalNew);\n});\ncy.get(&#x27;button.govuk-button&#x27;).click();\ncy.contains(&#x27;Confirm your email address&#x27;).should(&#x27;have.class&#x27;, &#x27;govuk-heading-l&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a40d0649-03e5-4fdc-9f18-08202cbaca34&quot;,&quot;parentUUID&quot;:&quot;9889ea8b-e6d2-4077-a089-da3bec04c0ad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;clicks the link in the confirmation email&quot;,&quot;fullTitle&quot;:&quot;User registration clicks the link in the confirmation email&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.fixture(&#x27;users.json&#x27;).then(function (users) {\n  cy.getUserRegistrationUrl(Cypress.env(&#x27;USER_URI&#x27;), users.externalNew).then(function (response) {\n    cy.visit(response);\n  });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b5e522fe-4664-4591-a495-8867974a60be&quot;,&quot;parentUUID&quot;:&quot;9889ea8b-e6d2-4077-a089-da3bec04c0ad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;shows a validation error message if no passwords are entered&quot;,&quot;fullTitle&quot;:&quot;User registration shows a validation error message if no passwords are entered&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.get(&#x27;input#password&#x27;).type(&#x27; &#x27;);\ncy.get(&#x27;input#confirm-password&#x27;).type(&#x27; &#x27;);\ncy.get(&#x27;form&#x27;).submit();\ncy.contains(&#x27;There is a problem&#x27;).should(&#x27;have.class&#x27;, &#x27;govuk-error-summary__title&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b21dcfb-88a3-494f-91af-64e42ef53f7f&quot;,&quot;parentUUID&quot;:&quot;9889ea8b-e6d2-4077-a089-da3bec04c0ad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;shows a validation error message if passwords are too short&quot;,&quot;fullTitle&quot;:&quot;User registration shows a validation error message if passwords are too short&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.get(&#x27;input#password&#x27;).type(&#x27;short&#x27;);\ncy.get(&#x27;input#confirm-password&#x27;).type(&#x27;short&#x27;);\ncy.get(&#x27;form&#x27;).submit();\ncy.contains(&#x27;There is a problem&#x27;).should(&#x27;have.class&#x27;, &#x27;govuk-error-summary__title&#x27;); // verifying that error and warnings are displayed\ncy.get(&#x27;.govuk-list.govuk-error-summary__list&#x27;).children().should(&#x27;have.length&#x27;, 6);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3af7fe25-f57f-4c80-87c3-85e7a69d42c1&quot;,&quot;parentUUID&quot;:&quot;9889ea8b-e6d2-4077-a089-da3bec04c0ad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;shows a validation error message if passwords have correct length only&quot;,&quot;fullTitle&quot;:&quot;User registration shows a validation error message if passwords have correct length only&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.get(&#x27;input#password&#x27;).type(&#x27;12345678&#x27;);\ncy.get(&#x27;input#confirm-password&#x27;).type(&#x27;12345678&#x27;);\ncy.get(&#x27;form&#x27;).submit();\ncy.contains(&#x27;Your password contains&#x27;).should(&#x27;have.class&#x27;, &#x27;govuk-visually-hidden&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fda7aabe-b7bf-4f93-8ced-ec0f0097d29e&quot;,&quot;parentUUID&quot;:&quot;9889ea8b-e6d2-4077-a089-da3bec04c0ad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;shows a validation error message if passwords have symbol only&quot;,&quot;fullTitle&quot;:&quot;User registration shows a validation error message if passwords have symbol only&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.get(&#x27;input#password&#x27;).type(&#x27;123$&#x27;);\ncy.get(&#x27;input#confirm-password&#x27;).type(&#x27;123$&#x27;);\ncy.get(&#x27;form&#x27;).submit();\ncy.contains(&#x27;Your password contains&#x27;).should(&#x27;have.class&#x27;, &#x27;govuk-visually-hidden&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;108aedd6-cc60-4520-ba1c-43da570c3d02&quot;,&quot;parentUUID&quot;:&quot;9889ea8b-e6d2-4077-a089-da3bec04c0ad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;shows a validation error message if passwords have capital only&quot;,&quot;fullTitle&quot;:&quot;User registration shows a validation error message if passwords have capital only&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.get(&#x27;input#password&#x27;).type(&#x27;123A&#x27;);\ncy.get(&#x27;input#confirm-password&#x27;).type(&#x27;123A&#x27;);\ncy.get(&#x27;form&#x27;).submit();\ncy.contains(&#x27;Your password contains&#x27;).should(&#x27;have.class&#x27;, &#x27;govuk-visually-hidden&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;950fe43f-a75c-4fa3-8fe7-0e25b17a57b3&quot;,&quot;parentUUID&quot;:&quot;9889ea8b-e6d2-4077-a089-da3bec04c0ad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;shows a validation error message if passwords do not match&quot;,&quot;fullTitle&quot;:&quot;User registration shows a validation error message if passwords do not match&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.get(&#x27;input#password&#x27;).type(&#x27;A12345678$&#x27;);\ncy.get(&#x27;input#confirm-password&#x27;).type(&#x27;A123456789$&#x27;);\ncy.get(&#x27;form&#x27;).submit();\ncy.contains(&#x27;Re-enter your new password&#x27;).should(&#x27;have.attr&#x27;, &#x27;href&#x27;, &#x27;#password&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2c5cddb9-7af3-4a94-8deb-5c838ad74700&quot;,&quot;parentUUID&quot;:&quot;9889ea8b-e6d2-4077-a089-da3bec04c0ad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;sets the passwords and signs in if valid and matching&quot;,&quot;fullTitle&quot;:&quot;User registration sets the passwords and signs in if valid and matching&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.get(&#x27;input#password&#x27;).type(&#x27;A12345678$&#x27;);\ncy.get(&#x27;input#confirm-password&#x27;).type(&#x27;A12345678$&#x27;);\ncy.get(&#x27;form&#x27;).submit();\ncy.url().should(&#x27;include&#x27;, &#x27;/add-licences&#x27;);\ncy.contains(&#x27;Add your licences to the service&#x27;).should(&#x27;have.class&#x27;, &#x27;govuk-heading-l&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cad9a4f7-c8c4-4956-aeba-aae7bb907ebf&quot;,&quot;parentUUID&quot;:&quot;9889ea8b-e6d2-4077-a089-da3bec04c0ad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;User logout&quot;,&quot;fullTitle&quot;:&quot;User registration User logout&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;//  Click Sign out Button\ncy.get(&#x27;#signout&#x27;).click(); //  assert the signout\ncy.contains(&#x27;Sign in or create an account&#x27;).should(&#x27;be.visible&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51a73b3d-e46a-4547-b7db-bec81028a8ae&quot;,&quot;parentUUID&quot;:&quot;9889ea8b-e6d2-4077-a089-da3bec04c0ad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;a993e1b3-eb81-42c1-ac9b-207ed33a9160&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;aad91380-8e1c-4758-9bae-42a65c7d259e&quot;,&quot;991d1d7d-f6bb-4c8e-ac8c-31a4eb0738d8&quot;,&quot;22bf19e4-d89b-434e-98a4-e0f220a5c0f4&quot;,&quot;b30d2263-c748-4da9-8551-dc228dfb5d8b&quot;,&quot;a40d0649-03e5-4fdc-9f18-08202cbaca34&quot;,&quot;b5e522fe-4664-4591-a495-8867974a60be&quot;,&quot;7b21dcfb-88a3-494f-91af-64e42ef53f7f&quot;,&quot;3af7fe25-f57f-4c80-87c3-85e7a69d42c1&quot;,&quot;fda7aabe-b7bf-4f93-8ced-ec0f0097d29e&quot;,&quot;108aedd6-cc60-4520-ba1c-43da570c3d02&quot;,&quot;950fe43f-a75c-4fa3-8fe7-0e25b17a57b3&quot;,&quot;2c5cddb9-7af3-4a94-8deb-5c838ad74700&quot;,&quot;cad9a4f7-c8c4-4956-aeba-aae7bb907ebf&quot;,&quot;51a73b3d-e46a-4547-b7db-bec81028a8ae&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;27ff7093-f533-4111-97a3-840b60b9a403&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;cypress/integration/external/view-licences.spec.js&quot;,&quot;file&quot;:&quot;cypress/integration/external/view-licences.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;660c7eef-e0d2-44f1-8692-aad50a2754d5&quot;,&quot;title&quot;:&quot;View Licences as external user&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;View licenses and verify them&quot;,&quot;fullTitle&quot;:&quot;View Licences as external user View licenses and verify them&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:779,&quot;state&quot;:&quot;failed&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;//  cy.visit to visit the URL\ncy.visit(Cypress.env(&#x27;USER_URI&#x27;)); // tap the sign in button on the welcome page\ncy.get(&#x27;a[href*=\&quot;/signin\&quot;]&#x27;).click(); //  Enter the user name and Password\ncy.fixture(&#x27;users.json&#x27;).then(function (users) {\n  cy.get(&#x27;input#email&#x27;).type(users.external);\n});\ncy.get(&#x27;input#password&#x27;).type(Cypress.env(&#x27;DEFAULT_PASSWORD&#x27;)); //  Click Sign in Button\ncy.get(&#x27;.govuk-button.govuk-button--start&#x27;).click(); // assert the page title\ncy.contains(&#x27;Manage your water abstraction or impoundment licence&#x27;); // assert Your licences text on the licences table\ncy.contains(&#x27;Your licences&#x27;).should(&#x27;have.class&#x27;, &#x27;govuk-heading-l&#x27;); // assert the licences in the table\n// all searches are automatically rooted to the found tr element\ncy.contains(&#x27;AT/CURR/DAILY/01&#x27;).should(&#x27;be.visible&#x27;);\ncy.contains(&#x27;AT/CURR/WEEKLY/01&#x27;).should(&#x27;be.visible&#x27;);\ncy.contains(&#x27;AT/CURR/MONTHLY/01&#x27;).should(&#x27;be.visible&#x27;);\ncy.contains(&#x27;AT/CURR/MONTHLY/02&#x27;).should(&#x27;be.visible&#x27;); //  Click Sign out Button\ncy.get(&#x27;#signout&#x27;).click(); //  assert the signout\ncy.contains(&#x27;You are signed out&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;CypressError: `cy.request()` failed trying to load:\n\nhttp://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\nWe attempted to make an http request to this URL but the request failed without a response.\n\nWe received this error at the network level:\n\n  &gt; Error: connect ECONNREFUSED 127.0.0.1:8001\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\n-----------------------------------------------------------\n\nCommon situations why this would fail:\n  - you don&#x27;t have internet access\n  - you forgot to run / boot your web server\n  - your web server isn&#x27;t accessible\n  - you have weird network configuration settings on your computer\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `after all` hook we are skipping the remaining tests in the current suite: `View Licences as external user`&quot;,&quot;estack&quot;:&quot;CypressError: `cy.request()` failed trying to load:\n\nhttp://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\nWe attempted to make an http request to this URL but the request failed without a response.\n\nWe received this error at the network level:\n\n  &gt; Error: connect ECONNREFUSED 127.0.0.1:8001\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\n-----------------------------------------------------------\n\nCommon situations why this would fail:\n  - you don&#x27;t have internet access\n  - you forgot to run / boot your web server\n  - your web server isn&#x27;t accessible\n  - you have weird network configuration settings on your computer\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `after all` hook we are skipping the remaining tests in the current suite: `View Licences as external user`\n    at http://localhost:8008/__cypress/runner/cypress_runner.js:160339:19\n    at tryCatcher (http://localhost:8008/__cypress/runner/cypress_runner.js:10765:23)\n    at http://localhost:8008/__cypress/runner/cypress_runner.js:5904:37\n    at tryCatcher (http://localhost:8008/__cypress/runner/cypress_runner.js:10765:23)\n    at Promise._settlePromiseFromHandler (http://localhost:8008/__cypress/runner/cypress_runner.js:8700:31)\n    at Promise._settlePromise (http://localhost:8008/__cypress/runner/cypress_runner.js:8757:18)\n    at Promise._settlePromise0 (http://localhost:8008/__cypress/runner/cypress_runner.js:8802:10)\n    at Promise._settlePromises (http://localhost:8008/__cypress/runner/cypress_runner.js:8878:18)\n    at _drainQueueStep (http://localhost:8008/__cypress/runner/cypress_runner.js:5472:12)\n    at _drainQueue (http://localhost:8008/__cypress/runner/cypress_runner.js:5465:9)\n    at Async.../../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:8008/__cypress/runner/cypress_runner.js:5481:5)\n    at Async.drainQueues (http://localhost:8008/__cypress/runner/cypress_runner.js:5351:14)\nFrom Your Spec Code:\n    at waterRequest (http://localhost:8008/__cypress/tests?p=cypress/integration/external/view-licences.spec.js:166:6)\n    at tearDown (http://localhost:8008/__cypress/tests?p=cypress/integration/external/view-licences.spec.js:191:10)\n    at Context.eval (http://localhost:8008/__cypress/tests?p=cypress/integration/external/view-licences.spec.js:109:5)\n\nFrom Node.js Internals:\n  RequestError: Error: connect ECONNREFUSED 127.0.0.1:8001\n      at new RequestError (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/request-promise-core/lib/errors.js:14:15)\n      at Request.plumbing.callback (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/request-promise-core/lib/plumbing.js:87:29)\n      at Request.RP$callback [as _callback] (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/request-promise-core/lib/plumbing.js:46:31)\n      at self.callback (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/@cypress/request/request.js:185:22)\n      at Request.emit (events.js:315:20)\n      at Request.onRequestError (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/@cypress/request/request.js:877:8)\n      at ClientRequest.emit (events.js:327:22)\n      at Socket.socketErrorListener (_http_client.js:426:9)\n      at Socket.emit (events.js:315:20)\n      at emitErrorNT (internal/streams/destroy.js:92:8)\n      at emitErrorAndCloseNT (internal/streams/destroy.js:60:3)\n      at processTicksAndRejections (internal/process/task_queues.js:84:21)\n  &quot;,&quot;diff&quot;:null},&quot;uuid&quot;:&quot;9753da75-71e3-4dba-b4fe-bc52d8b4071b&quot;,&quot;parentUUID&quot;:&quot;660c7eef-e0d2-44f1-8692-aad50a2754d5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;9753da75-71e3-4dba-b4fe-bc52d8b4071b&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:779,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;57ba7918-7584-4bcf-ac23-17f8dda4c38a&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;cypress/integration/internal/bills-tab.spec.js&quot;,&quot;file&quot;:&quot;cypress/integration/internal/bills-tab.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5b3bfc20-806f-4119-aeaf-087c1784f9e9&quot;,&quot;title&quot;:&quot;search for licences as internal user&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;user logs in and searches for a License&quot;,&quot;fullTitle&quot;:&quot;search for licences as internal user user logs in and searches for a License&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:858,&quot;state&quot;:&quot;failed&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;// cy.visit to visit the URL\ncy.visit(Cypress.env(&#x27;ADMIN_URI&#x27;)); // Enter the user name and Password\ncy.fixture(&#x27;users.json&#x27;).then(function (users) {\n  cy.get(&#x27;input#email&#x27;).type(users.psc);\n});\ncy.get(&#x27;#password&#x27;).type(Cypress.env(&#x27;DEFAULT_PASSWORD&#x27;));\ncy.get(&#x27;.govuk-button.govuk-button--start&#x27;).click(); // assert once the user is signed in\ncy.contains(&#x27;Licences, users and returns&#x27;); // search for a license\ncy.get(&#x27;#query&#x27;).type(&#x27;AT/CURR/DAILY/01&#x27;).should(&#x27;be.visible&#x27;);\ncy.get(&#x27;.search__button&#x27;).click();\ncy.contains(&#x27;Licences&#x27;).should(&#x27;be.visible&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;CypressError: `cy.request()` failed trying to load:\n\nhttp://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\nWe attempted to make an http request to this URL but the request failed without a response.\n\nWe received this error at the network level:\n\n  &gt; Error: connect ECONNREFUSED 127.0.0.1:8001\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\n-----------------------------------------------------------\n\nCommon situations why this would fail:\n  - you don&#x27;t have internet access\n  - you forgot to run / boot your web server\n  - your web server isn&#x27;t accessible\n  - you have weird network configuration settings on your computer\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `before all` hook we are skipping the remaining tests in the current suite: `search for licences as inte...`&quot;,&quot;estack&quot;:&quot;CypressError: `cy.request()` failed trying to load:\n\nhttp://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\nWe attempted to make an http request to this URL but the request failed without a response.\n\nWe received this error at the network level:\n\n  &gt; Error: connect ECONNREFUSED 127.0.0.1:8001\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\n-----------------------------------------------------------\n\nCommon situations why this would fail:\n  - you don&#x27;t have internet access\n  - you forgot to run / boot your web server\n  - your web server isn&#x27;t accessible\n  - you have weird network configuration settings on your computer\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `before all` hook we are skipping the remaining tests in the current suite: `search for licences as inte...`\n    at http://localhost:8008/__cypress/runner/cypress_runner.js:160339:19\n    at tryCatcher (http://localhost:8008/__cypress/runner/cypress_runner.js:10765:23)\n    at http://localhost:8008/__cypress/runner/cypress_runner.js:5904:37\n    at tryCatcher (http://localhost:8008/__cypress/runner/cypress_runner.js:10765:23)\n    at Promise._settlePromiseFromHandler (http://localhost:8008/__cypress/runner/cypress_runner.js:8700:31)\n    at Promise._settlePromise (http://localhost:8008/__cypress/runner/cypress_runner.js:8757:18)\n    at Promise._settlePromise0 (http://localhost:8008/__cypress/runner/cypress_runner.js:8802:10)\n    at Promise._settlePromises (http://localhost:8008/__cypress/runner/cypress_runner.js:8878:18)\n    at _drainQueueStep (http://localhost:8008/__cypress/runner/cypress_runner.js:5472:12)\n    at _drainQueue (http://localhost:8008/__cypress/runner/cypress_runner.js:5465:9)\n    at Async.../../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:8008/__cypress/runner/cypress_runner.js:5481:5)\n    at Async.drainQueues (http://localhost:8008/__cypress/runner/cypress_runner.js:5351:14)\nFrom Your Spec Code:\n    at waterRequest (http://localhost:8008/__cypress/tests?p=cypress/integration/internal/bills-tab.spec.js:159:6)\n    at tearDown (http://localhost:8008/__cypress/tests?p=cypress/integration/internal/bills-tab.spec.js:184:10)\n    at Context.eval (http://localhost:8008/__cypress/tests?p=cypress/integration/internal/bills-tab.spec.js:105:5)\n\nFrom Node.js Internals:\n  RequestError: Error: connect ECONNREFUSED 127.0.0.1:8001\n      at new RequestError (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/request-promise-core/lib/errors.js:14:15)\n      at Request.plumbing.callback (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/request-promise-core/lib/plumbing.js:87:29)\n      at Request.RP$callback [as _callback] (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/request-promise-core/lib/plumbing.js:46:31)\n      at self.callback (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/@cypress/request/request.js:185:22)\n      at Request.emit (events.js:315:20)\n      at Request.onRequestError (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/@cypress/request/request.js:877:8)\n      at ClientRequest.emit (events.js:327:22)\n      at Socket.socketErrorListener (_http_client.js:426:9)\n      at Socket.emit (events.js:315:20)\n      at emitErrorNT (internal/streams/destroy.js:92:8)\n      at emitErrorAndCloseNT (internal/streams/destroy.js:60:3)\n      at processTicksAndRejections (internal/process/task_queues.js:84:21)\n  &quot;,&quot;diff&quot;:null},&quot;uuid&quot;:&quot;b46bcf9d-71ab-49a1-bed7-b6d4bd93feda&quot;,&quot;parentUUID&quot;:&quot;5b3bfc20-806f-4119-aeaf-087c1784f9e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;navigates to the licence page&quot;,&quot;fullTitle&quot;:&quot;search for licences as internal user navigates to the licence page&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;//cy.get(&#x27;td&#x27;).first().click();\n    // expect(browser).toHaveUrlContaining(&#x27;/licences/&#x27;);\n    // expect(getPageTitle()).toHaveText(LICENCE_NUMBER);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72e8832a-49f1-4d30-b23a-699d45168128&quot;,&quot;parentUUID&quot;:&quot;5b3bfc20-806f-4119-aeaf-087c1784f9e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;b46bcf9d-71ab-49a1-bed7-b6d4bd93feda&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;72e8832a-49f1-4d30-b23a-699d45168128&quot;],&quot;duration&quot;:858,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;731287d6-f4c0-4847-9b9c-a92c32b8134a&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;cypress/integration/internal/searchForLicence.spec.js&quot;,&quot;file&quot;:&quot;cypress/integration/internal/searchForLicence.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5d2a7bf3-fb2c-4011-a1f3-0ea5482d3ed8&quot;,&quot;title&quot;:&quot;search for licences as internal user&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;user logs in and searches for a License&quot;,&quot;fullTitle&quot;:&quot;search for licences as internal user user logs in and searches for a License&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:804,&quot;state&quot;:&quot;failed&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;// cy.visit to visit the URL\ncy.visit(Cypress.env(&#x27;ADMIN_URI&#x27;)); // Enter the user name and Password\ncy.fixture(&#x27;users.json&#x27;).then(function (users) {\n  cy.get(&#x27;input#email&#x27;).type(users.psc);\n});\ncy.get(&#x27;#password&#x27;).type(Cypress.env(&#x27;DEFAULT_PASSWORD&#x27;)); // Click Sign in Button\ncy.get(&#x27;.govuk-button.govuk-button--start&#x27;).click(); // assert once the user is signed in\ncy.contains(&#x27;Licences, users and returns&#x27;); // search for a license\ncy.get(&#x27;#query&#x27;).type(&#x27;Anglian&#x27;).should(&#x27;be.visible&#x27;);\ncy.get(&#x27;.search__button&#x27;).click();\ncy.contains(&#x27;Licences&#x27;).should(&#x27;be.visible&#x27;); //  Click Sign out Button\ncy.get(&#x27;#signout&#x27;).click(); //  assert the signout\ncy.contains(&#x27;You are signed out&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;CypressError: `cy.request()` failed trying to load:\n\nhttp://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\nWe attempted to make an http request to this URL but the request failed without a response.\n\nWe received this error at the network level:\n\n  &gt; Error: connect ECONNREFUSED 127.0.0.1:8001\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\n-----------------------------------------------------------\n\nCommon situations why this would fail:\n  - you don&#x27;t have internet access\n  - you forgot to run / boot your web server\n  - your web server isn&#x27;t accessible\n  - you have weird network configuration settings on your computer\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `after all` hook we are skipping the remaining tests in the current suite: `search for licences as inte...`&quot;,&quot;estack&quot;:&quot;CypressError: `cy.request()` failed trying to load:\n\nhttp://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\nWe attempted to make an http request to this URL but the request failed without a response.\n\nWe received this error at the network level:\n\n  &gt; Error: connect ECONNREFUSED 127.0.0.1:8001\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://127.0.0.1:8001/water/1.0/acceptance-tests/tear-down\n\n-----------------------------------------------------------\n\nCommon situations why this would fail:\n  - you don&#x27;t have internet access\n  - you forgot to run / boot your web server\n  - your web server isn&#x27;t accessible\n  - you have weird network configuration settings on your computer\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `after all` hook we are skipping the remaining tests in the current suite: `search for licences as inte...`\n    at http://localhost:8008/__cypress/runner/cypress_runner.js:160339:19\n    at tryCatcher (http://localhost:8008/__cypress/runner/cypress_runner.js:10765:23)\n    at http://localhost:8008/__cypress/runner/cypress_runner.js:5904:37\n    at tryCatcher (http://localhost:8008/__cypress/runner/cypress_runner.js:10765:23)\n    at Promise._settlePromiseFromHandler (http://localhost:8008/__cypress/runner/cypress_runner.js:8700:31)\n    at Promise._settlePromise (http://localhost:8008/__cypress/runner/cypress_runner.js:8757:18)\n    at Promise._settlePromise0 (http://localhost:8008/__cypress/runner/cypress_runner.js:8802:10)\n    at Promise._settlePromises (http://localhost:8008/__cypress/runner/cypress_runner.js:8878:18)\n    at _drainQueueStep (http://localhost:8008/__cypress/runner/cypress_runner.js:5472:12)\n    at _drainQueue (http://localhost:8008/__cypress/runner/cypress_runner.js:5465:9)\n    at Async.../../node_modules/bluebird/js/release/async.js.Async._drainQueues (http://localhost:8008/__cypress/runner/cypress_runner.js:5481:5)\n    at Async.drainQueues (http://localhost:8008/__cypress/runner/cypress_runner.js:5351:14)\nFrom Your Spec Code:\n    at waterRequest (http://localhost:8008/__cypress/tests?p=cypress/integration/internal/searchForLicence.spec.js:160:6)\n    at tearDown (http://localhost:8008/__cypress/tests?p=cypress/integration/internal/searchForLicence.spec.js:185:10)\n    at Context.eval (http://localhost:8008/__cypress/tests?p=cypress/integration/internal/searchForLicence.spec.js:109:5)\n\nFrom Node.js Internals:\n  RequestError: Error: connect ECONNREFUSED 127.0.0.1:8001\n      at new RequestError (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/request-promise-core/lib/errors.js:14:15)\n      at Request.plumbing.callback (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/request-promise-core/lib/plumbing.js:87:29)\n      at Request.RP$callback [as _callback] (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/request-promise-core/lib/plumbing.js:46:31)\n      at self.callback (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/@cypress/request/request.js:185:22)\n      at Request.emit (events.js:315:20)\n      at Request.onRequestError (/Users/srujanchada/Library/Caches/Cypress/6.9.1/Cypress.app/Contents/Resources/app/packages/server/node_modules/@cypress/request/request.js:877:8)\n      at ClientRequest.emit (events.js:327:22)\n      at Socket.socketErrorListener (_http_client.js:426:9)\n      at Socket.emit (events.js:315:20)\n      at emitErrorNT (internal/streams/destroy.js:92:8)\n      at emitErrorAndCloseNT (internal/streams/destroy.js:60:3)\n      at processTicksAndRejections (internal/process/task_queues.js:84:21)\n  &quot;,&quot;diff&quot;:null},&quot;uuid&quot;:&quot;5075ac1b-b8b9-45c4-bd67-992dd1fd1848&quot;,&quot;parentUUID&quot;:&quot;5d2a7bf3-fb2c-4011-a1f3-0ea5482d3ed8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;5075ac1b-b8b9-45c4-bd67-992dd1fd1848&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:804,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;7.0.1&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:true,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:false,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.2.2&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;id&quot;:&quot;default&quot;,&quot;reportDir&quot;:&quot;cypress/reports/mocha&quot;,&quot;quiet&quot;:true,&quot;overwrite&quot;:false,&quot;html&quot;:false,&quot;json&quot;:true},&quot;version&quot;:&quot;5.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;combined-report&quot;,&quot;reportDir&quot;:&quot;TestReport&quot;,&quot;reportTitle&quot;:&quot;water-abstraction-ui&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:false,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;TestReport/assets&quot;,&quot;htmlFile&quot;:&quot;/Users/srujanchada/projects/water-abstraction-ui/TestReport/combined-report.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>