{% from "badge.njk" import badge %}

{% macro notifyStatusBadge(status) %}

  {% if status %}

    {% if (status === 'sending' or status === 'accepted') %}
      {{ badge('Pending', 'completed') }}
    {% endif %}

    {% if status === 'received' or status === 'delivered' %}
      {{ badge('Sent', 'completed') }}
    {% endif %}

    {% if (['permanent-failure', 'temporary-failure', 'technical-failure'].includes(status)) %}
      {{ badge('Error', 'error') }}
    {% endif %}

  {% else %}
    {{ badge('Pending', 'completed') }}
  {% endif %}
{% endmacro %}
